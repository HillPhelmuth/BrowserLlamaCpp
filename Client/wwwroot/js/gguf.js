var Gguf;(()=>{"use strict";var e,t,n={},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,a),i.exports}a.m=n,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".gguf.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="Gguf:",a.l=(n,r,i,o)=>{if(e[n])e[n].push(r);else{var s,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+i){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(g);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},g=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,u]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);u&&u(a)}for(t&&t(n);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkGguf=self.webpackChunkGguf||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i={};a.r(i),a.d(i,{GetModelSpecs:()=>U});var o=Object.defineProperty,s=(e,t,n)=>(((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),u=(e=>(e[e.UINT8=0]="UINT8",e[e.INT8=1]="INT8",e[e.UINT16=2]="UINT16",e[e.INT16=3]="INT16",e[e.UINT32=4]="UINT32",e[e.INT32=5]="INT32",e[e.FLOAT32=6]="FLOAT32",e[e.BOOL=7]="BOOL",e[e.STRING=8]="STRING",e[e.ARRAY=9]="ARRAY",e[e.UINT64=10]="UINT64",e[e.INT64=11]="INT64",e[e.FLOAT64=12]="FLOAT64",e))(u||{}),l="undefined"!=typeof window&&void 0!==window.document,c="object"==typeof self&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,h=!l&&!c,f=e=>1===e||2===e||3===e,g=new Uint8Array([71,71,85,70]),d=2e6,w=5e7,v=class{constructor(e,t){this.uri=e,this.params=t,s(this,"chunk"),s(this,"buffer"),s(this,"dataView"),this.chunk=0,this.buffer=new ArrayBuffer(0,{maxByteLength:w}),this.dataView=new DataView(this.buffer)}get view(){return this.dataView}async fetchChunk(){var e,t,n,r;const a=[this.chunk*d,(this.chunk+1)*d-1],i=new Uint8Array(await(await(null!=(t=null==(e=this.params)?void 0:e.fetch)?t:fetch)(this.uri,{headers:{...null!=(r=null==(n=this.params)?void 0:n.additionalFetchHeaders)?r:{},Range:`bytes=${a[0]}-${a[1]}`}})).arrayBuffer());this.appendBuffer(i),this.chunk+=1}appendBuffer(e){if(ArrayBuffer.prototype.resize)this.buffer.resize((this.chunk+1)*d),new Uint8Array(this.buffer).set(e,this.chunk*d);else{const t=new ArrayBuffer((this.chunk+1)*d,{maxByteLength:w}),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),n.set(e,this.chunk*d),this.buffer=t,this.dataView=new DataView(this.buffer)}}async fetchChunkIfNeeded(e){this.dataView.byteLength-e<5e5&&await this.fetchChunk()}},p=class extends v{async fetchChunk(){const{FileBlob:e}=await a.e(755).then(a.bind(a,755)),t=await e.create(this.uri),n=[this.chunk*d,(this.chunk+1)*d-1],r=await t.slice(n[0],n[1]).arrayBuffer();this.appendBuffer(new Uint8Array(r)),this.chunk+=1}};function b(e,t,n,r){switch(n){case 1:{const n=e.getUint32(t,r);return{value:BigInt(n),length:4}}case 2:case 3:return{value:e.getBigUint64(t,r),length:8}}}function m(e,t,n,r){const a=b(e,t,n,r),i=a.length;return{value:(new TextDecoder).decode(e.buffer.slice(t+i,t+i+Number(a.value))),length:i+Number(a.value)}}function y(e,t,n,r,a){switch(t){case 0:return{value:e.getUint8(n),length:1};case 1:return{value:e.getInt8(n),length:1};case 2:return{value:e.getUint16(n,a),length:2};case 3:return{value:e.getInt16(n,a),length:2};case 4:return{value:e.getUint32(n,a),length:4};case 5:return{value:e.getInt32(n,a),length:4};case 6:return{value:e.getFloat32(n,a),length:4};case 7:return{value:0!==e.getUint8(n),length:1};case 8:return m(e,n,r,a);case 9:{const t=e.getUint32(n,a),i=b(e,n+4,r,a);let o=4+i.length;const s=[];for(let u=0;u<i.value;u++){const i=y(e,t,n+o,r,a);s.push(i.value),o+=i.length}return{value:s,length:o}}case 10:return{value:e.getBigUint64(n,a),length:8};case 11:return{value:e.getBigInt64(n,a),length:8};case 12:return{value:e.getFloat64(n,a),length:8}}}async function k(e,t){let n;if(h)if(e.match(/^https?:\/\//))n=new v(e,t);else{if(!(null==t?void 0:t.allowLocalFile))throw new Error("Access to local file is not enabled, please set allowLocalFile to true");n=new p(e,t)}else{if(null==t?void 0:t.allowLocalFile)throw new Error("allowLocalFile cannot be used on browser");n=new v(e,t)}if(await n.fetchChunk(),!((e,t)=>{for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0})(new Uint8Array(n.view.buffer.slice(0,4)),g))throw new Error("not a valid gguf file: not starting with GGUF magic number");const[r,a]=(()=>{const e=n.view.getUint32(4,!0);return 65535&e?[!0,e]:[!1,n.view.getUint32(4,!1)]})();if(!f(a))throw new Error(`not a valid gguf file: unsupported version "${a}"`);let i=8;const o=b(n.view,i,a,r);i+=o.length;const s=b(n.view,i,a,r);i+=s.length;const l={version:a,tensor_count:o.value,kv_count:s.value};for(let e=0;e<s.value;e++){await n.fetchChunkIfNeeded(i);const e=m(n.view,i,a,r);i+=e.length;const t=n.view.getUint32(i,r);if(i+=4,"string"!=typeof u[t])throw new Error("Unsupported metadata type: "+t);let o;for(;!o;)try{o=y(n.view,t,i,a,r)}catch(e){if(!(e instanceof RangeError))throw e;await n.fetchChunk()}i+=o.length,l[e.value]=o.value}const c=[];for(let e=0;e<o.value;e++){await n.fetchChunkIfNeeded(i);const e=m(n.view,i,a,r);i+=e.length;const t=n.view.getUint32(i,r);i+=4;const o=[];for(let e=0;e<t;e++){const e=b(n.view,i,a,r);o.push(e.value),i+=e.length}const s=n.view.getUint32(i,r);i+=4;const u=n.view.getBigUint64(i,r);i+=8,c.push({name:e.value,n_dims:t,shape:o,dtype:s,offset:u})}if(null==t?void 0:t.computeParametersCount){const e=c.map((({shape:e})=>e.reduce(((e,t)=>e*Number(t)),1))).reduce(((e,t)=>e+t),0);return{metadata:l,tensorInfos:c,parameterCount:e}}return{metadata:l,tensorInfos:c}}async function T(e){const{metadata:t,tensorInfos:n}=await k(e);return console.log(t),JSON.parse(JSON.stringify(t,((e,t)=>"bigint"==typeof t?t.toString():t)))}function U(e){return T(e)}console.log(k),console.log(T),Gguf=i})();